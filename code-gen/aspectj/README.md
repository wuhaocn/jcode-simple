## 1.AspectJ ä½¿ç”¨ä»‹ç»

AspectJ ä½œä¸º AOP ç¼–ç¨‹çš„å®Œå…¨è§£å†³æ–¹æ¡ˆï¼Œæä¾›äº†ä¸‰ç§ç»‡å…¥æ—¶æœºï¼Œåˆ†åˆ«ä¸º
* compile-timeï¼šç¼–è¯‘æœŸç»‡å…¥ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥ç¼–è¯‘å‡ºåŒ…å«ç»‡å…¥ä»£ç çš„ .class æ–‡ä»¶
* post-compileï¼šç¼–è¯‘åç»‡å…¥ï¼Œå¢å¼ºå·²ç»ç¼–è¯‘å‡ºæ¥çš„ç±»ï¼Œå¦‚æˆ‘ä»¬è¦å¢å¼ºä¾èµ–çš„ jar åŒ…ä¸­çš„æŸä¸ªç±»çš„æŸä¸ªæ–¹æ³•
* load-timeï¼šåœ¨ JVM è¿›è¡Œç±»åŠ è½½çš„æ—¶å€™è¿›è¡Œç»‡å…¥

### 1.1 ç¼–è¯‘æ’æ¡©åˆ†ç±»

ç¼–è¯‘æ’æ¡©æŠ€æœ¯å…·ä½“å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
* 1ï¼‰ã€APTï¼ˆAnnotation Process Toolsï¼‰ ï¼šç”¨äºç”Ÿæˆ Java ä»£ç ã€‚
* 2ï¼‰ã€AOPï¼ˆAspect Oriented Programmingï¼‰ï¼šç”¨äºæ“ä½œå­—èŠ‚ç ã€‚

æˆ‘ä»¬åˆ†åˆ«æ¥è¯¦ç»†ä»‹ç»ä¸‹å®ƒä»¬çš„ä½œç”¨ã€‚

* 1ã€APTï¼ˆAnnotation Process Toolsï¼‰
  æ€»æ‰€å‘¨çŸ¥ï¼ŒButterKnifeã€Daggerã€GreenDaoã€Protocol Buffers è¿™äº›å¸¸ç”¨çš„æ³¨è§£ç”Ÿæˆæ¡†æ¶éƒ½ä¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆä»£ç ã€‚ 
  è€Œ ä½¿ç”¨ AndroidAnnotation ç»“åˆ APT æŠ€æœ¯ æ¥ç”Ÿæˆä»£ç çš„æ—¶æœºï¼Œæ˜¯åœ¨ç¼–è¯‘æœ€å¼€å§‹çš„æ—¶å€™ä»‹å…¥çš„ã€‚
  ä½†æ˜¯ AOP æ˜¯åœ¨ç¼–è¯‘å®Œæˆåç”Ÿæˆ dex æ–‡ä»¶ä¹‹å‰çš„æ—¶å€™ï¼Œç›´æ¥é€šè¿‡ä¿®æ”¹ .class æ–‡ä»¶çš„æ–¹å¼ï¼Œæ¥ç›´æ¥æ·»åŠ æˆ–è€…ä¿®æ”¹ä»£ç é€»è¾‘çš„ã€‚
  ä½¿ç”¨ APT æŠ€æœ¯ç”Ÿæˆ Java ä»£ç çš„æ–¹å¼å…·æœ‰å¦‚ä¸‹ ä¸¤æ–¹é¢ çš„ä¼˜åŠ¿ï¼š

  1ï¼‰ã€éš”ç¦»äº†æ¡†æ¶å¤æ‚çš„å†…éƒ¨å®ç°ï¼Œä½¿å¾—å¼€å‘æ›´åŠ åœ°ç®€å•é«˜æ•ˆã€‚
  2ï¼‰ã€å¤§å¤§å‡å°‘äº†æ‰‹å·¥é‡å¤çš„å·¥ä½œé‡ï¼Œé™ä½äº†å¼€å‘æ—¶å‡ºé”™çš„æœºç‡ã€‚

*  2ã€AOPï¼ˆAspect Oriented Programmingï¼‰
   è€Œå¯¹äºæ“ä½œå­—èŠ‚ç çš„æ–¹å¼æ¥è¯´ï¼Œä¸€èˆ¬éƒ½åœ¨ ä»£ç ç›‘æ§ã€ä»£ç ä¿®æ”¹ã€ä»£ç åˆ†æ è¿™ä¸‰ä¸ªåœºæ™¯æœ‰ç€å¾ˆå¹¿æ³›çš„åº”ç”¨ã€‚
   ç›¸å¯¹äº Java ä»£ç ç”Ÿæˆçš„æ–¹å¼ï¼Œæ“ä½œå­—èŠ‚ç çš„æ–¹å¼æœ‰å¦‚ä¸‹ ç‰¹ç‚¹ï¼š

    1ï¼‰ã€åº”ç”¨åœºæ™¯æ›´å¹¿ã€‚
    2ï¼‰ã€åŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚
    3ï¼‰ã€ä½¿ç”¨å¤æ‚åº¦è¾ƒé«˜ã€‚
   
## 2.ä¾èµ–å¼•å…¥
ä»¥gradleä¾èµ–ä¸ºä¾‹

```
buildscript {
  repositories {
    mavenLocal()
    maven { url 'https://plugins.gradle.org/m2/' }

  }
  dependencies {
    classpath group: 'io.freefair.gradle', name: 'aspectj-plugin', version: '5.3.3.3'

  }
}
apply plugin: "io.freefair.aspectj"


dependencies {
  compile group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.5'
  compile group: 'org.aspectj', name: 'aspectjrt', version: '1.9.5'
 
}


```

* aspectjåº•å±‚ä¾èµ–åº“
    * net.bytebuddy:byte-buddy

## 3.ä»£ç ç¼–å†™

* ä»£ç åœ°å€è¯·å‚è€ƒï¼šhttps://github.com/wuhaocn/jcode-simple.git

* æ³¨æ„ä¸‹é¢æ“ä½œç±»åº”æ”¾åœ¨"src/main/aspectj"åŒ…ä¸‹é¢

### 3.1.å®šä¹‰ä¸šåŠ¡ç±»
* Account.java
```
public class Account {

    public int balance = 20;

    public boolean pay(int amount) {
        if (balance < amount) {
            return false;
        }
        balance -= amount;
        return true;
    }
}
```
### 3.2.å®šä¹‰æ³¨è§£ç±»
* AccountAspect.aj
```
public aspect AccountAspect {

    pointcut callPay(int amount, Account account):
            call(boolean com.rcloud.Account.pay(int)) && args(amount) && target(account);

    before(int amount, Account account): callPay(amount, account) {
        System.out.println("[AccountAspect]ä»˜æ¬¾å‰æ€»é‡‘é¢: " + account.balance);
        System.out.println("[AccountAspect]éœ€è¦ä»˜æ¬¾: " + amount);
    }

    boolean around(int amount, Account account): callPay(amount, account) {
        if (account.balance < amount) {
            System.out.println("[AccountAspect]æ‹’ç»ä»˜æ¬¾!");
            return false;
        }
        return proceed(amount, account);
    }

    after(int amount, Account balance): callPay(amount, balance) {
        System.out.println("[AccountAspect]ä»˜æ¬¾åï¼Œå‰©ä½™ï¼š" + balance.balance);
    }

}
```
### 3.3.ä½¿ç”¨ç±»
* AccountDoWork.java
```
public class AccountDoWork {
    public static void pay() {
        Account account = new Account();
        account.pay(1);
    }
}

```
## 4.AspectJ çš„ä¼˜åŠ¿ä¸å±€é™æ€§
æœ€å¸¸ç”¨çš„å­—èŠ‚ç å¤„ç†æ¡†æ¶æœ‰ AspectJã€ASM ç­‰ç­‰ï¼Œå®ƒä»¬çš„ç›¸åŒä¹‹å¤„åœ¨äºè¾“å…¥è¾“å‡ºéƒ½æ˜¯ Class æ–‡ä»¶ã€‚
å¹¶ä¸”ï¼Œå®ƒä»¬éƒ½æ˜¯ åœ¨ Java æ–‡ä»¶ç¼–è¯‘æˆ .class æ–‡ä»¶ä¹‹åï¼Œç”Ÿæˆ Dalvik å­—èŠ‚ç ä¹‹å‰æ‰§è¡Œã€‚
è€Œ AspectJ ä½œä¸º Java ä¸­æµè¡Œçš„ AOPï¼ˆaspect-oriented programmingï¼‰ ç¼–ç¨‹æ‰©å±•æ¡†æ¶ï¼Œ
å…¶å†…éƒ¨ä½¿ç”¨çš„æ˜¯ BCELæ¡†æ¶ æ¥å®Œæˆå…¶åŠŸèƒ½ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥äº†è§£ä¸‹ AspectJ å…·å¤‡å“ªäº›ä¼˜åŠ¿ã€‚
### 4.1.AspectJ çš„ä¼˜åŠ¿
   å®ƒçš„ä¼˜åŠ¿æœ‰ä¸¤ç‚¹ï¼šæˆç†Ÿç¨³å®šã€ä½¿ç”¨éå¸¸ç®€å•ã€‚
* 1ã€æˆç†Ÿç¨³å®š
å­—èŠ‚ç çš„å¤„ç†å¹¶ä¸ç®€å•ï¼Œç‰¹åˆ«æ˜¯ é’ˆå¯¹äºå­—èŠ‚ç çš„æ ¼å¼å’Œå„ç§æŒ‡ä»¤è§„åˆ™ï¼Œå¦‚æœå¤„ç†å‡ºé”™ï¼Œ
å°±ä¼šå¯¼è‡´ç¨‹åºç¼–è¯‘æˆ–è€…è¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ã€‚è€Œ AspectJ ä½œä¸ºä» 2001 å¹´å‘å±•è‡³ä»Šçš„æ¡†æ¶ï¼Œ
å®ƒå·²ç»å‘å±•åœ°éå¸¸æˆç†Ÿï¼Œé€šå¸¸ä¸ç”¨è€ƒè™‘æ’å…¥çš„å­—èŠ‚ç å‘ç”Ÿæ­£ç¡®æ€§ç›¸å…³çš„é—®é¢˜ã€‚
* 2ã€ä½¿ç”¨éå¸¸ç®€å•
AspectJ çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œå¹¶ä¸”å®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæˆ‘ä»¬å®Œå…¨ä¸éœ€è¦ç†è§£ä»»ä½• Java å­—èŠ‚ç ç›¸å…³çš„çŸ¥è¯†ï¼Œ
å°±å¯ä»¥åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯¹å­—èŠ‚ç è¿›è¡Œæ“æ§ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥åœ¨å¦‚ä¸‹äº”ä¸ªä½ç½®æ’å…¥è‡ªå®šä¹‰çš„ä»£ç ï¼š
1ï¼‰ã€åœ¨æ–¹æ³•ï¼ˆåŒ…æ‹¬æ„é€ æ–¹æ³•ï¼‰è¢«è°ƒç”¨çš„ä½ç½®ã€‚
2ï¼‰ã€åœ¨æ–¹æ³•ä½“ï¼ˆåŒ…æ‹¬æ„é€ æ–¹æ³•ï¼‰çš„å†…éƒ¨ã€‚
3ï¼‰ã€åœ¨è¯»å†™å˜é‡çš„ä½ç½®ã€‚
4ï¼‰ã€åœ¨é™æ€ä»£ç å—å†…éƒ¨ã€‚
5ï¼‰ã€åœ¨å¼‚å¸¸å¤„ç†çš„ä½ç½®çš„å‰åã€‚
æ­¤å¤–ï¼Œå®ƒä¹Ÿå¯ä»¥ ç›´æ¥å°†åŸä½ç½®çš„ä»£ç æ›¿æ¢ä¸ºè‡ªå®šä¹‰çš„ä»£ç ã€‚

### 4.2.AspectJ çš„ç¼ºé™·
è€Œ AspectJ çš„ç¼ºç‚¹å¯ä»¥å½’ç»“ä¸ºå¦‚ä¸‹ ä¸‰ç‚¹ï¼š
* 1ã€åˆ‡å…¥ç‚¹å›ºå®š
AspectJ åªèƒ½åœ¨ä¸€äº›å›ºå®šçš„åˆ‡å…¥ç‚¹æ¥è¿›è¡Œæ“ä½œï¼Œå¦‚æœæƒ³è¦è¿›è¡Œæ›´ç»†è‡´çš„æ“ä½œåˆ™å¾ˆéš¾å®ç°ï¼Œå®ƒ
æ— æ³•é’ˆå¯¹ä¸€äº›ç‰¹å®šè§„åˆ™çš„å­—èŠ‚ç åºåˆ—åšæ“ä½œã€‚
* 2ã€æ­£åˆ™è¡¨è¾¾å¼çš„å±€é™æ€§
AspectJ çš„åŒ¹é…è§„åˆ™é‡‡ç”¨äº†ç±»ä¼¼æ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼Œæ¯”å¦‚ åŒ¹é… Activity ç”Ÿå‘½å‘¨æœŸçš„ onXXX æ–¹æ³•ï¼Œå¦‚æœæœ‰è‡ªå®šä¹‰çš„å…¶ä»–ä»¥ on å¼€å¤´çš„æ–¹æ³•ä¹Ÿä¼šåŒ¹é…åˆ°ï¼Œè¿™æ ·åŒ¹é…çš„æ­£ç¡®æ€§å°±æ— æ³•æ»¡è¶³ã€‚
* 3ã€æ€§èƒ½è¾ƒä½
AspectJ åœ¨å®ç°æ—¶ä¼šåŒ…è£…è‡ªå·±ä¸€äº›ç‰¹å®šçš„ç±»ï¼Œå®ƒå¹¶ä¸ä¼šç›´æ¥æŠŠ Trace å‡½æ•°ç›´æ¥æ’å…¥åˆ°ä»£ç ä¸­ï¼Œè€Œæ˜¯ç»è¿‡ä¸€ç³»åˆ—è‡ªå·±çš„å°è£…ã€‚è¿™æ ·ä¸ä»…ç”Ÿæˆçš„å­—èŠ‚ç æ¯”è¾ƒå¤§ï¼Œè€Œä¸”å¯¹åŸå‡½æ•°çš„æ€§èƒ½ä¼šæœ‰ä¸å°çš„å½±å“ã€‚å¦‚æœæƒ³å¯¹ App ä¸­æ‰€æœ‰çš„å‡½æ•°éƒ½è¿›è¡Œæ’æ¡©ï¼Œæ€§èƒ½å½±å“è‚¯å®šä¼šæ¯”è¾ƒå¤§ã€‚å¦‚æœä½ åªæ’æ¡©ä¸€å°éƒ¨åˆ†å‡½æ•°ï¼Œé‚£ä¹ˆ AspectJ å¸¦æ¥çš„æ€§èƒ½æŸè€—å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚
## 5.AspectJ æ ¸å¿ƒè¯­æ³•ç®€ä»‹
AspectJ å…¶å®å°±æ˜¯ä¸€ç§ AOP æ¡†æ¶ï¼ŒAOP æ˜¯å®ç°ç¨‹åºåŠŸèƒ½ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚
åˆ©ç”¨ AOP å¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆæ€§é™ä½ï¼Œ
æé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶å¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚å› æ­¤ AOP çš„ä¼˜åŠ¿å¯æ€»ç»“ä¸ºå¦‚ä¸‹ ä¸¤ç‚¹ï¼š

1ï¼‰ã€æ— ä¾µå…¥æ€§ã€‚
2ï¼‰ã€ä¿®æ”¹æ–¹ä¾¿ã€‚

æ­¤å¤–ï¼ŒAOP ä¸åŒäº OOP å°†é—®é¢˜åˆ’åˆ†åˆ°å•ä¸ªæ¨¡å—ä¹‹ä¸­ï¼Œå®ƒæŠŠ æ¶‰åŠåˆ°ä¼—å¤šæ¨¡å—çš„åŒä¸€ç±»é—®é¢˜è¿›è¡Œäº†ç»Ÿä¸€å¤„ç†ã€‚
æ¯”å¦‚æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸¤ä¸ªåˆ‡é¢ï¼Œä¸€ä¸ªæ˜¯ç”¨äºå¤„ç† App ä¸­æ‰€æœ‰æ¨¡å—çš„æ—¥å¿—è¾“å‡ºåŠŸèƒ½ï¼Œ
å¦å¤–ä¸€ä¸ªåˆ™æ˜¯ç”¨äºå¤„ç† App ä¸­ä¸€äº›ç‰¹æ®Šå‡½æ•°è°ƒç”¨çš„æƒé™æ£€æŸ¥ã€‚
ä¸‹é¢ğŸ‘‡ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹è¦æŒæ¡ AspectJ çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£çš„ä¸€äº› æ ¸å¿ƒæ¦‚å¿µã€‚
* 1ã€æ¨ªåˆ‡å…³æ³¨ç‚¹
å¯¹å“ªäº›æ–¹æ³•è¿›è¡Œæ‹¦æˆªï¼Œæ‹¦æˆªåæ€ä¹ˆå¤„ç†ã€‚
* 2ã€åˆ‡é¢ï¼ˆAspectï¼‰
ç±»æ˜¯å¯¹ç‰©ä½“ç‰¹å¾çš„æŠ½è±¡ï¼Œåˆ‡é¢å°±æ˜¯å¯¹æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æŠ½è±¡ã€‚
* 3ã€è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰
JPoint æ˜¯ä¸€ä¸ªç¨‹åºçš„å…³é”®æ‰§è¡Œç‚¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å…³æ³¨çš„é‡ç‚¹ã€‚
  å®ƒå°±æ˜¯æŒ‡è¢«æ‹¦æˆªåˆ°çš„ç‚¹ï¼ˆå¦‚æ–¹æ³•ã€å­—æ®µã€æ„é€ å™¨ç­‰ç­‰ï¼‰ã€‚
* 4ã€åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰
å¯¹ JoinPoint è¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚
PointCut çš„ç›®çš„å°±æ˜¯æä¾›ä¸€ç§æ–¹æ³•ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿé€‰æ‹©è‡ªå·±æ„Ÿå…´è¶£çš„ JoinPointã€‚
* 5ã€é€šçŸ¥ï¼ˆAdviceï¼‰
åˆ‡å…¥ç‚¹ä»…ç”¨äºæ•æ‰è¿æ¥ç‚¹é›†åˆï¼Œä½†æ˜¯ï¼Œé™¤äº†æ•æ‰è¿æ¥ç‚¹é›†åˆä»¥å¤–ä»€ä¹ˆäº‹æƒ…éƒ½æ²¡æœ‰åšã€‚ 
äº‹å®ä¸Šå®ç°æ¨ªåˆ‡è¡Œä¸ºæˆ‘ä»¬è¦ä½¿ç”¨é€šçŸ¥ã€‚
å®ƒ ä¸€èˆ¬æŒ‡æ‹¦æˆªåˆ° JoinPoint åè¦æ‰§è¡Œçš„ä»£ç ï¼Œåˆ†ä¸º å‰ç½®ã€åç½®ã€ç¯ç»• ä¸‰ç§ç±»å‹ã€‚
è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦ æ³¨æ„ Advice Precedenceï¼ˆä¼˜å…ˆæƒï¼‰ çš„æƒ…å†µï¼Œ
æ¯”å¦‚æˆ‘ä»¬å¯¹åŒä¸€ä¸ªåˆ‡é¢æ–¹æ³•åŒæ—¶ä½¿ç”¨äº† @Before å’Œ @Around æ—¶å°±ä¼šæŠ¥é”™ï¼Œ
æ­¤æ—¶ä¼šæç¤ºéœ€è¦è®¾ç½® Advice çš„ä¼˜å…ˆçº§ã€‚
AspectJ ä½œä¸ºä¸€ç§åŸºäº Java è¯­è¨€å®ç°çš„ä¸€å¥—é¢å‘åˆ‡é¢ç¨‹åºè®¾è®¡è§„èŒƒã€‚
å®ƒå‘ Java ä¸­åŠ å…¥äº† è¿æ¥ç‚¹(Join Point) è¿™ä¸ªæ–°æ¦‚å¿µ ï¼Œ
å…¶å®å®ƒä¹Ÿåªæ˜¯ç°å­˜çš„ä¸€ä¸ª Java æ¦‚ å¿µçš„åç§°è€Œå·²ã€‚å®ƒå‘ Java è¯­è¨€ä¸­åŠ å…¥äº†å°‘è®¸æ–°ç»“æ„ï¼Œ
è­¬å¦‚ åˆ‡å…¥ç‚¹(pointcut)ã€é€šçŸ¥(Advice)ã€ç±»å‹é—´å£°æ˜(Inter-type declaration) å’Œ åˆ‡é¢(Aspect)ã€‚åˆ‡å…¥ç‚¹å’Œé€šçŸ¥åŠ¨æ€åœ°å½±å“ç¨‹åºæµç¨‹ï¼Œ
ç±»å‹é—´å£°æ˜åˆ™æ˜¯é™æ€çš„å½±å“ç¨‹åºçš„ç±»ç­‰çº§ç»“æ„ï¼Œè€Œåˆ‡é¢åˆ™æ˜¯å¯¹æ‰€æœ‰è¿™äº›æ–°ç»“æ„çš„å°è£…ã€‚
å¯¹äº AsepctJ ä¸­çš„å„ä¸ªæ ¸å¿ƒæ¦‚å¿µæ¥è¯´ï¼Œå…¶ è¿æ¥ç‚¹å°±æ°å¦‚ç¨‹åºæµä¸­é€‚å½“çš„ä¸€ç‚¹ã€‚
è€Œåˆ‡å…¥ç‚¹æ”¶é›†ç‰¹å®šçš„è¿æ¥ç‚¹é›†åˆå’Œåœ¨è¿™äº›ç‚¹ä¸­çš„å€¼ã€‚
ä¸€ä¸ªé€šçŸ¥åˆ™æ˜¯å½“ä¸€ä¸ªè¿æ¥ç‚¹åˆ°è¾¾æ—¶æ‰§è¡Œçš„ä»£ç ï¼Œè¿™äº›éƒ½æ˜¯ AspectJ çš„åŠ¨æ€éƒ¨åˆ†ã€‚
å…¶å®è¿æ¥ç‚¹å°±å¥½æ¯”æ˜¯ ç¨‹åºä¸­é‚£ä¸€æ¡ä¸€æ¡çš„è¯­å¥ï¼Œ
è€Œåˆ‡å…¥ç‚¹å°±æ˜¯ç‰¹å®šä¸€æ¡è¯­å¥å¤„è®¾ç½®çš„ä¸€ä¸ªæ–­ç‚¹ï¼Œå®ƒæ”¶é›†äº†æ–­ç‚¹å¤„ç¨‹åºæ ˆçš„ä¿¡æ¯ï¼Œ
è€Œé€šçŸ¥å°±æ˜¯åœ¨è¿™ä¸ªæ–­ç‚¹å‰åæƒ³è¦åŠ å…¥çš„ç¨‹åºä»£ç ã€‚
æ­¤å¤–ï¼ŒAspectJ ä¸­ä¹Ÿæœ‰è®¸å¤šä¸åŒç§ç±»çš„ç±»å‹é—´å£°æ˜ï¼Œ
è¿™å°±å…è®¸ç¨‹åºå‘˜ä¿®æ”¹ç¨‹åºçš„é™æ€ç»“æ„ã€åç§°ã€ç±»çš„æˆå‘˜ä»¥åŠç±»ä¹‹é—´çš„å…³ç³»ã€‚ 
AspectJ ä¸­çš„åˆ‡é¢æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—å•å…ƒã€‚å®ƒä»¬çš„è¡Œä¸ºä¸ Java è¯­è¨€ä¸­çš„ç±»å¾ˆè±¡ï¼Œ
ä½†æ˜¯åˆ‡é¢ è¿˜å°è£…äº†åˆ‡å…¥ç‚¹ã€é€šçŸ¥ä»¥åŠç±»å‹é—´å£°æ˜ã€‚


## 6.å°ç»“
AspectJ çš„ä¸‰ç§ç»‡å…¥æ–¹å¼ä¸­ï¼Œä¸ªäººè§‰å¾—å‰é¢çš„ä¸¤ç§ä¼šæ¯”è¾ƒå®ç”¨ä¸€äº›ï¼Œå› ä¸ºç¬¬ä¸‰ç§éœ€è¦ä¿®æ”¹å¯åŠ¨è„šæœ¬ï¼Œå¯¹äºå¤§å‹å…¬å¸æ¥è¯´ä¼šæ¯”è¾ƒä¸å‹å¥½ï¼Œ
éœ€è¦ä¸“é—¨æ‰¾è¿ç»´äººå‘˜é…ç½®ã€‚ åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬ç”¨å¾—æœ€å¤šçš„è¿˜æ˜¯çº¯ Spring AOPï¼Œé€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œç›¸ä¿¡å¤§å®¶å¯¹äº AspectJ çš„ä½¿ç”¨åº”è¯¥ä¹Ÿæ²¡ä»€ä¹ˆå‹åŠ›äº†ã€‚
å¤§å®¶å¦‚æœå¯¹äºæœ¬æ–‡ä»‹ç»çš„å†…å®¹æœ‰ä»€ä¹ˆä¸æ¸…æ¥šçš„ï¼Œè¯·ç›´æ¥åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œå¦‚æœå¯¹äº Spring + AspectJ æ„Ÿå…´è¶£çš„è¯»è€…ï¼Œç¢°åˆ°é—®é¢˜ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºå’Œå¤§å®¶äº’åŠ¨è®¨è®ºã€‚

## 7.å‚è€ƒ

https://javadoop.com/post/aspectj
https://juejin.cn/post/6844904112396615688

